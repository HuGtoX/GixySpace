# 头像管理功能 - 快速开始

## 功能简介

用户可以通过两种方式更换头像：

1. **选择系统头像**：从预设的7个头像中选择
2. **上传自定义头像**：上传本地图片并进行圆形裁剪

## 使用步骤

### 1. 访问个人资料页面

导航到 `/profile` 页面

### 2. 点击"更换头像"按钮

有两个入口：

- 头像上的悬停按钮（鼠标悬停在头像上时显示）
- 头像下方的"更换头像"文字按钮

### 3. 选择头像方式

#### 方式一：选择系统头像

1. 在弹出的模态窗口中，默认显示"系统头像"标签页
2. 点击任意一个头像进行选择（选中的头像会有橙色边框和勾选标记）
3. 点击"确认"按钮完成更换

#### 方式二：上传自定义头像

1. 切换到"自定义上传"标签页
2. 点击"选择图片"按钮，从本地选择图片文件
   - 支持格式：JPG、PNG、GIF
   - 文件大小限制：5MB以内
3. 图片上传后，进入裁剪界面：
   - 拖拽图片调整位置
   - 使用底部滑块调整缩放（0.1x - 3x）
   - 圆形虚线框显示裁剪区域
4. 调整满意后，点击"确认裁剪"
5. 预览裁剪结果，确认无误后点击"确认"按钮

### 4. 完成更换

- 系统会显示"头像更新成功"的提示
- 页面自动刷新，显示新头像
- 新头像会在所有页面同步更新

## 功能特点

### 系统头像

- ✅ 7个精美的预设头像
- ✅ 一键选择，即时生效
- ✅ 圆形显示，美观大方

### 自定义上传

- ✅ 支持多种图片格式
- ✅ 智能裁剪，圆形输出
- ✅ 自由缩放和拖拽
- ✅ 实时预览效果
- ✅ 支持触摸操作（移动端）

### 用户体验

- ✅ 响应式设计，适配各种屏幕
- ✅ 深色模式支持
- ✅ 流畅的动画效果
- ✅ 友好的错误提示

## 注意事项

1. **文件大小**：上传的图片不能超过5MB
2. **文件格式**：仅支持JPG、PNG、GIF格式
3. **裁剪区域**：固定为圆形，确保头像在各处显示一致
4. **登录状态**：需要登录后才能使用此功能

## 常见问题

### Q: 为什么我的图片上传失败？

A: 请检查：

- 图片大小是否超过5MB
- 图片格式是否为JPG、PNG或GIF
- 网络连接是否正常

### Q: 如何重新裁剪图片？

A: 在预览界面点击"重新裁剪"按钮，可以返回裁剪界面重新调整

### Q: 如何更换为其他图片？

A: 在预览界面点击"重新上传"按钮，可以选择新的图片

### Q: 系统头像可以自定义吗？

A: 系统头像由管理员统一管理，普通用户无法添加。如需自定义，请使用"自定义上传"功能

### Q: 头像会在哪些地方显示？

A: 头像会显示在：

- 个人资料页面
- 页面顶部导航栏
- 评论区（如果有）
- 其他需要显示用户信息的地方

## 技术支持

如遇到问题，请联系技术支持或查看详细文档：

- 详细文档：`docs/avatar-management.md`
- 组件位置：`src/components/avatar/`
- API文档：`/api/user/avatar`
